# –ú–æ–¥—É–ª—å Achievements (–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è)

–ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏.

## –†–æ—É—Ç—ã

### –ü—É–±–ª–∏—á–Ω—ã–µ —Ä–æ—É—Ç—ã

#### `GET /api/achievements/categories`
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": "uuid",
    "name": "string",
    "icon_url": "string | null",
    "is_custom": false,
    "achievements_count": 10,
    "created_at": "2024-01-01T00:00:00.000Z",
    "updated_at": "2024-01-01T00:00:00.000Z"
  }
]
```

#### `GET /api/achievements/categories/with-stats`
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –î–∞

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": "uuid",
    "name": "string",
    "icon_url": "string | null",
    "is_custom": false,
    "achievements_count": 10,
    "unlocked_count": 5,
    "total_xp": 1000,
    "unlocked_xp": 500,
    "progress_percent": 50,
    "created_at": "2024-01-01T00:00:00.000Z",
    "updated_at": "2024-01-01T00:00:00.000Z"
  }
]
```

#### `GET /api/achievements/rarities`
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–µ–¥–∫–æ—Å—Ç–µ–π –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π.

**–û—Ç–≤–µ—Ç:**
```json
[
  { "value": "COMMON", "label": "–û–±—ã—á–Ω—ã–µ" },
  { "value": "RARE", "label": "–†–µ–¥–∫–∏–µ" },
  { "value": "EPIC", "label": "–≠–ø–∏—á–µ—Å–∫–∏–µ" },
  { "value": "LEGENDARY", "label": "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ" }
]
```

#### `GET /api/achievements/categories/:id`
–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ ID.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` - UUID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "uuid",
  "name": "string",
  "icon_url": "string | null",
  "is_custom": false,
  "achievements_count": 10,
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z"
}
```

#### `GET /api/achievements/categories/:categoryId/achievements`
–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `categoryId` - UUID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `query` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `rarity` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏: `COMMON`, `RARE`, `EPIC`, `LEGENDARY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `unlocked` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏: `true`/`false` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)
- `sortBy` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Å–º. –Ω–∏–∂–µ)
- `limit` - –ª–∏–º–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (1-100, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
- `offset` - —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)

**–ü—Ä–∏–º–µ—Ä:**
```
GET /api/achievements/categories/123/achievements?rarity=EPIC&sortBy=xp-desc&limit=20
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "achievements": [
    {
      "id": "uuid",
      "title": "string",
      "description": "string",
      "icon_url": "string | null",
      "rarity": "common | rare | epic | legendary",
      "category": {
        "id": "uuid",
        "name": "string",
        "icon_url": "string | null"
      },
      "xp_reward": 100,
      "unlocked": false,
      "unlocked_at": "2024-01-01T00:00:00.000Z | null",
      "is_public": true,
      "created_at": "2024-01-01T00:00:00.000Z"
    }
  ],
  "total": 50,
  "limit": 20,
  "offset": 0
}
```

#### `GET /api/achievements`
–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `query` - –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `categoryId` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `rarity` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏: `COMMON`, `RARE`, `EPIC`, `LEGENDARY` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `unlocked` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏: `true`/`false` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)
- `sortBy` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Å–º. –Ω–∏–∂–µ)
- `limit` - –ª–∏–º–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (1-100, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
- `offset` - —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)

**–ü—Ä–∏–º–µ—Ä—ã:**

–ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É:
```
GET /api/achievements?query=–ø–æ–±–µ–¥–∞
```

–§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ä–µ–¥–∫–æ—Å—Ç–∏:
```
GET /api/achievements?categoryId=123&rarity=LEGENDARY
```

–¢–æ–ª—å–∫–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö):
```
GET /api/achievements?unlocked=true
```

–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ XP:
```
GET /api/achievements?sortBy=xp-desc&limit=10
```

–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å:
```
GET /api/achievements?query=–ø–æ–±–µ–¥–∞&categoryId=123&rarity=EPIC&sortBy=date-desc&limit=20&offset=0
```

**–û—Ç–≤–µ—Ç:** –ê–Ω–∞–ª–æ–≥–∏—á–µ–Ω –æ—Ç–≤–µ—Ç—É `/categories/:categoryId/achievements`

#### `GET /api/achievements/:id`
–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ ID.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `id` - UUID –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "uuid",
  "title": "string",
  "description": "string",
  "icon_url": "string | null",
  "rarity": "common | rare | epic | legendary",
  "category": {
    "id": "uuid",
    "name": "string",
    "icon_url": "string | null"
  },
  "xp_reward": 100,
  "unlocked": false,
  "unlocked_at": "2024-01-01T00:00:00.000Z | null",
  "is_public": true,
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z"
}
```

## –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (sortBy)

- `default` - –ø–æ—Ä—è–¥–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è)
- `unlocked-asc` - —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- `unlocked-desc` - —Å–Ω–∞—á–∞–ª–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- `date-asc` - –ø–æ –¥–∞—Ç–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (—Å—Ç–∞—Ä—ã–µ —Å–Ω–∞—á–∞–ª–∞)
- `date-desc` - –ø–æ –¥–∞—Ç–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞)
- `xp-asc` - –ø–æ XP –Ω–∞–≥—Ä–∞–¥–µ (–º–µ–Ω—å—à–µ —Å–Ω–∞—á–∞–ª–∞)
- `xp-desc` - –ø–æ XP –Ω–∞–≥—Ä–∞–¥–µ (–±–æ–ª—å—à–µ —Å–Ω–∞—á–∞–ª–∞)

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

#### `POST /api/achievements/categories`
–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤).

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –î–∞  
**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–º–∏–Ω:** –î–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "string",           // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
  "icon_url": "string | null" // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—ç–º–æ–¥–∑–∏ –∏–ª–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "uuid",
  "name": "string",
  "icon_url": "string | null",
  "is_custom": false,
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z"
}
```

#### `POST /api/achievements`
–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤).

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –î–∞  
**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–º–∏–Ω:** –î–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "string",                    // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
  "description": "string",              // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
  "icon_url": "string | null",          // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—ç–º–æ–¥–∑–∏ –∏–ª–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
  "rarity": "COMMON | RARE | EPIC | LEGENDARY", // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é COMMON
  "category_id": "uuid",                // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ (UUID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
  "xp_reward": 100                      // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100 (1-10000)
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "uuid",
  "title": "string",
  "description": "string",
  "icon_url": "string | null",
  "rarity": "COMMON",
  "category": {
    "id": "uuid",
    "name": "string",
    "icon_url": "string | null"
  },
  "xp_reward": 100,
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z"
}
```

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

#### `POST /api/achievements/categories/custom`
–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –î–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "string",           // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
  "icon_url": "string | null" // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—ç–º–æ–¥–∑–∏ –∏–ª–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "uuid",
  "name": "string",
  "icon_url": "string | null",
  "is_custom": true,
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z"
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–æ–∑–¥–∞–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –±—É–¥–µ—Ç –∏–º–µ—Ç—å `is_custom = true`
- `creator_id` –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ ID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ —Å–≤–æ–∏—Ö –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö

#### `POST /api/achievements/custom`
–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** –î–∞

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "string",                    // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
  "description": "string",              // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
  "icon_url": "string | null",          // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—ç–º–æ–¥–∑–∏ –∏–ª–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
  "rarity": "COMMON | RARE | EPIC | LEGENDARY", // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é COMMON
  "category_id": "uuid",                // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ (UUID —Å–≤–æ–µ–π –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
  "xp_reward": 100                      // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100 (1-10000)
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "uuid",
  "title": "string",
  "description": "string",
  "icon_url": "string | null",
  "rarity": "COMMON",
  "category": {
    "id": "uuid",
    "name": "string",
    "icon_url": "string | null"
  },
  "xp_reward": 100,
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z"
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ —Å–≤–æ–∏—Ö –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö (`is_custom = true` –∏ `creator_id = userId`)
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –≤ —á—É–∂–æ–π –∏–ª–∏ –æ–±—ã—á–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–µ—Ä–Ω–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `403 Forbidden`

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞**: –í—Å–µ GET —Ä–æ—É—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –Ω–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
2. **–§–∏–ª—å—Ç—Ä unlocked**: –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `limit` –∏ `offset` –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏. –í –æ—Ç–≤–µ—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `total` –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
4. **–ü–æ–∏—Å–∫**: –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø–æ–ª—è–º `title` –∏ `description` (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π)
5. **–†–µ–¥–∫–æ—Å—Ç—å**: –í –æ—Ç–≤–µ—Ç–µ —Ä–µ–¥–∫–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ (`common`, `rare`, `epic`, `legendary`), –Ω–æ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä (`COMMON`, `RARE`, `EPIC`, `LEGENDARY`)
6. **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ `is_custom = true` –∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Å–æ–∑–¥–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ `creator_id`
7. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –ê–¥–º–∏–Ω—ã —Å–æ–∑–¥–∞—é—Ç –æ–±—ã—á–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (`is_custom = false`), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ - –∫–∞—Å—Ç–æ–º–Ω—ã–µ (`is_custom = true`)

## DTO

### GetAchievementsDto
```typescript
{
  query?: string                    // –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
  categoryId?: string               // UUID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  rarity?: Rarity                   // COMMON | RARE | EPIC | LEGENDARY
  unlocked?: boolean                // —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
  sortBy?: SortBy                   // —Å–º. –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤—ã—à–µ
  limit?: number                    // 1-100, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100
  offset?: number                   // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0
}
```

### CreateCategoryDto
```typescript
{
  name: string                       // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  icon_url?: string                 // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —ç–º–æ–¥–∑–∏ –∏–ª–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
}
```

### CreateAchievementDto
```typescript
{
  title: string                     // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
  description: string               // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
  icon_url?: string                 // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —ç–º–æ–¥–∑–∏ –∏–ª–∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  rarity?: Rarity                   // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é COMMON
  category_id: string               // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, UUID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  xp_reward?: number                // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100 (1-10000)
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```bash
GET /api/achievements/categories
```

### –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
```bash
GET /api/achievements/categories/123/achievements?rarity=LEGENDARY&sortBy=xp-desc
```

### –ü–æ–∏—Å–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
```bash
GET /api/achievements?query=–ø–æ–±–µ–¥–∞&categoryId=123
```

### –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º)
```bash
GET /api/achievements?unlocked=true
Authorization: Bearer <access_token>
```

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è
```bash
# –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (20 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
GET /api/achievements?limit=20&offset=0

# –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
GET /api/achievements?limit=20&offset=20

# –¢—Ä–µ—Ç—å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
GET /api/achievements?limit=20&offset=40
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∞–¥–º–∏–Ω)
```bash
POST /api/achievements/categories
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "name": "–°–ø–æ—Ä—Ç",
  "icon_url": "üèÉ"
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
```bash
POST /api/achievements/categories/custom
Authorization: Bearer <user_token>
Content-Type: application/json

{
  "name": "–ú–æ–∏ —Ü–µ–ª–∏",
  "icon_url": "üéØ"
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–∞–¥–º–∏–Ω)
```bash
POST /api/achievements
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "title": "–ü—Ä–æ–±–µ–∂–∞—Ç—å 5 –∫–º",
  "description": "–ü—Ä–æ–±–µ–∂–∞—Ç—å –¥–∏—Å—Ç–∞–Ω—Ü–∏—é 5 –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤",
  "icon_url": "üèÉ",
  "rarity": "COMMON",
  "category_id": "uuid-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
  "xp_reward": 100
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
```bash
POST /api/achievements/custom
Authorization: Bearer <user_token>
Content-Type: application/json

{
  "title": "–ú–æ—è —Ü–µ–ª—å",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –º–æ–µ–π —Ü–µ–ª–∏",
  "icon_url": "‚≠ê",
  "rarity": "RARE",
  "category_id": "uuid-—Å–≤–æ–µ–π-–∫–∞—Å—Ç–æ–º–Ω–æ–π-–∫–∞—Ç–µ–≥–æ—Ä–∏–∏",
  "xp_reward": 150
}
```

## –û—à–∏–±–∫–∏

- `400 Bad Request` - –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- `401 Unauthorized` - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `403 Forbidden` - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–º–∏–Ω –∏–ª–∏ –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –≤ —á—É–∂–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- `404 Not Found` - –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
